import{a as E,C as S,Q as v,cK as C,A,g as f,cN as y,bM as I,J as g,u as W,aT as u,cO as k,aa as z,bT as D,cP as G,S as R,o as F,cM as P,w as T}from"./OrbitControls-IWiBIEx1.js";T.enabled=!0;const B=()=>{const e=new G({antialias:!0,alpha:!0});return e.setPixelRatio(window.devicePixelRatio),e.setSize(window.innerWidth,window.innerHeight),e.outputColorSpace=R,e.toneMapping=F,e.toneMappingExposure=1,e},H=()=>{const e=document.getElementById("veil");e&&(e.style.opacity=0);const n=document.getElementById("progress-bar");n&&(n.style.opacity=0);const a=document.getElementById("error");a&&(a.style.visibility="hidden",a.style.pointerEvents="none")},q=async({updateLoadingProgressBar:e})=>{const n=B(),a=document.getElementById("container");if(!a)throw new Error("Missing #container element");a.appendChild(n.domElement),await e(.1);const t=new E;t.background=new S(132111);const o=new v(60,window.innerWidth/window.innerHeight,.1,100);o.position.set(0,1.25,5.5);const s=new C(o,n.domElement);s.enableDamping=!0,s.enablePan=!1,s.minDistance=3,s.maxDistance=12,await e(.25);const M=new A(2109520,.75);t.add(M);const w=new f(7317759,1.1);w.position.set(4,6,2),t.add(w);const m=new f(1926911,.4);m.position.set(-4,-2,-3),t.add(m),await e(.45);const x=new y(1.6,3),b=new I({color:2056959,metalness:.2,roughness:.65,emissive:660037,emissiveIntensity:1.2,transparent:!0,opacity:.95}),r=new g(x,b);r.castShadow=!1,r.receiveShadow=!1,t.add(r);const l=new g(new y(1.15,2),new W({color:8377599,transparent:!0,opacity:.35,blending:u,depthWrite:!1}));t.add(l),await e(.65);const d=new k(new z(6.5,48,32),new D({color:5032447,size:.05,transparent:!0,opacity:.5,sizeAttenuation:!0,blending:u,depthWrite:!1}));d.geometry.rotateX(Math.PI/2),t.add(d),await e(.85),window.addEventListener("resize",()=>{const{innerWidth:c,innerHeight:i}=window;n.setSize(c,i),o.aspect=c/i,o.updateProjectionMatrix()}),H();const p=new P,h=()=>{const c=p.getElapsedTime(),i=p.getDelta();r.rotation.y+=i*.45,r.rotation.x=Math.sin(c*.32)*.25,l.rotation.y-=i*.18,l.rotation.x=Math.sin(c*.21)*.3,d.rotation.y+=i*.05,s.update(),n.render(t,o),requestAnimationFrame(h)};requestAnimationFrame(h),await e(1)};export{q as startFallbackApp};
